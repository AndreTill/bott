import { Storage } from '@gramio/storage';
import { Plugin } from 'gramio';

/** Options for {@link mediaCache} Plugin */
interface MediaCacheOptions {
    /**
     * The {@link Storage} in which to store the cached `file_id`
     *
     * [Documentation](https://gramio.dev/storages/)
     */
    storage?: Storage;
}
/**
 * `Media cache` plugin for [GramIO](https://gramio.dev/).
 *
 * This plugin caches the sent `file_id`'s and prevents files from being uploaded again.
 *
 * Currently, **sendMediaGroup** is not cached.
 * @example
 * ```ts
 * import { Bot } from "gramio";
 * import { mediaCache } from "@gramio/media-cache";
 *
 * const bot = new Bot(process.env.token!)
 *     .extend(mediaCache())
 *     .command("start", async (context) => {
 *         return context.sendDocument(
 *             MediaUpload.url(
 *                 "https://raw.githubusercontent.com/gramiojs/types/main/README.md"
 *             )
 *         );
 *     })
 *     .onStart(console.log);
 *
 * bot.start();
 * ```
 */
declare function mediaCache(options?: MediaCacheOptions): Plugin;

export { type MediaCacheOptions, mediaCache };
